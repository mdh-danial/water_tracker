{% extends "layout.html" %}

{% block title %}
    Welcome!
{% endblock %}

{% block main %}
    <div class="centralize">
        <!-- Heading -->
        <h1 class="tracking-in-expand mt-4">Water Tracker</h1>

        <!-- Login box -->
        <div class="glass-container">
            <div class="login-box">
                <h2>Login</h2>

                <form action="{{ url_for('login') }}" method="POST">
                    {% set flashes = get_flashed_messages(with_categories=True) %}

                    <!-- Username field -->
                    <input type="text" id="username" name="username" required placeholder="Username">
                    <div style="min-height: 5px;">
                        {% for category, message in flashes %}
                            {% if category == "username_error" %}
                                <div class="text-danger mt-1" style="font-size:small;">{{ message }}</div>
                            {% endif %}
                        {% endfor %}
                    </div>

                    <!-- Password field -->
                    <label for="password" class="visually-hidden">Password</label>
                    <input type="password" id="password" name="password" required placeholder="Password">
                    
                    <div style="min-height: 5px;">
                        {% for category, message in flashes %}
                            {% if category == "password_error" or category == "login_error" %}
                                <div class="text-danger mt-1" style="font-size:small;">{{ message }}</div>
                            {% endif %}
                        {% endfor %}
                    </div>


                    <button type="submit">Login</button>

                    <p>Don't have an account? <a href="/register" id="register">Register</a></p>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
